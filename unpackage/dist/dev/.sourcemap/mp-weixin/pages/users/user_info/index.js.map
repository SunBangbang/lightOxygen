{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/dxhl/Desktop/sanshen/pages/users/user_info/index.vue?8131","webpack:///C:/Users/dxhl/Desktop/sanshen/pages/users/user_info/index.vue?6ed1","webpack:///C:/Users/dxhl/Desktop/sanshen/pages/users/user_info/index.vue?263a","webpack:///C:/Users/dxhl/Desktop/sanshen/pages/users/user_info/index.vue?5049","uni-app:///pages/users/user_info/index.vue","webpack:///C:/Users/dxhl/Desktop/sanshen/components/update/app-update.vue?7f77","webpack:///C:/Users/dxhl/Desktop/sanshen/components/update/app-update.vue?b389","webpack:///C:/Users/dxhl/Desktop/sanshen/components/update/app-update.vue?0a9c","webpack:///C:/Users/dxhl/Desktop/sanshen/components/update/app-update.vue?aa05","uni-app:///components/update/app-update.vue","webpack:///C:/Users/dxhl/Desktop/sanshen/components/update/app-update.vue?87c0","webpack:///C:/Users/dxhl/Desktop/sanshen/components/update/app-update.vue?82e3","webpack:///C:/Users/dxhl/Desktop/sanshen/pages/users/user_info/index.vue?55de","webpack:///C:/Users/dxhl/Desktop/sanshen/pages/users/user_info/index.vue?535a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,uG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqtB,CAAgB,qrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiJzuB;;;;;AAKA;;;AAGA;;;AAGA;;;AAGA;;;;AAIA;AACA,4G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+SACA,EACA,cAKA,oBALA,EADA,EASA,wBATA,EAUA,IAVA,kBAUA,CACA,SACA,YADA,EAEA,eAFA,EAEA;AACA,kBAHA,EAIA,kBAJA,EAKA,aALA,EAKA;AACA,uBANA,EAMA;AACA,qBAPA,EAQA,gBARA,EASA,mBATA,EAUA,kBAVA,EAWA,WAXA,GAaA,CAxBA,EAyBA,4CAzBA,EA0BA,SACA,WACA,uCACA,WACA,mBACA,CACA,CALA,EAMA,UANA,EADA,EA1BA,EAoCA,MApCA,oBAoCA,CACA,mBACA,mBASA,CAVA,MAUA,CACA,sBACA,CACA,CAlDA,EAmDA,WACA,KADA,mBACA,CACA,kBACA,gBADA,IAGA,CALA,EAOA,SAPA,uBAOA,CACA,8BADA,CACA;AACA,KATA,EAUA,UAVA,wBAUA,CACA,gBACA,sCACA,+BACA,qBACA,2BACA,CAFA,MAEA,uBACA,sCACA,CAFA,MAEA,0BACA,2DACA,CAFA,MAEA,6BACA,8DACA,CAFA,MAEA,CACA,iEACA,CACA,CAbA,EAcA,CA1BA,EA4BA,QA5BA,sBA4BA,kBACA,gBACA,aADA,EAEA,uBAFA,EAGA,gCACA,kBACA,mBACA,mBACA,CAHA,MAGA,iBACA,yBACA,YADA,IAGA,CACA,CAZA,IAcA,CA3CA,EA4CA,UA5CA,wBA4CA,CACA,gBACA,sBACA,sBACA,8CACA,gCACA,qDACA,uBACA,+BACA,6BADA,CACA;AACA,wEACA,wBACA;AACA,gCACA,eADA,EAEA,cAFA,IAIA,kBALA,CAKA;AACA,eANA,EAMA,cACA,uBACA,CARA,EASA,CAVA,MAUA,CACA,eACA,CACA,CAdA,EAcA,cACA,wBACA,CAhBA,EAiBA,CACA,CAzBA,MAyBA;AACA,sCACA,gBACA,eADA,EAEA,cAFA,IAIA,kBACA,CANA,EAOA,CACA,CAjFA,EAkFA;;qHAGA,iCACA,mBACA,CAvFA,EAwFA;AACA,sCACA,oBACA,CA3FA,EA4FA;;gEAGA,6BACA,kBACA,iCADA,IAGA,CAnGA,EAoGA,kEACA,0CACA,WADA,CAEA,uBACA,iDACA;AACA,yBADA;;AAGA;AACA;AACA,wBADA;;AAGA;AACA;AACA;AACA,mCADA;AAEA,yFAFA;;AAIA;;AAEA,SARA,EAQA,KARA,CAQA;AACA;AACA;AACA,sBADA;;AAGA,SAbA;AAcA,OAlBA,MAkBA;AACA;AACA;AACA,wBADA;;AAGA;AACA;AACA,KArIA;AAsIA;;;;AAIA;AACA;AACA;AACA;AACA,qBADA;AAEA,4BAFA;AAGA;AACA;AACA;AACA,kBADA,CACA;AACA;AACA;AACA;AACA,2CADA;;AAGA,eAPA;AAQA,mBARA,CAQA,iBARA;AASA,aAVA,MAUA;AACA;AACA;AACA,WAjBA;;AAmBA;AACA,KAjKA;AAkKA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA;AACA,OAhBA;AAiBA,KAxLA;AAyLA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA,EAQA;AACA;AACA,OAVA,EAUA;AACA;AACA;AACA,OAbA;AAcA,KA9MA;;AAgNA;;;AAGA;AACA;AACA,4BADA;AAEA,oDAFA;AAGA;AACA,yBADA;;AAGA;AACA;AACA;AACA,wBADA;AAEA,yBAFA;AAGA;AACA,gBADA;AAEA,gBAFA,EAHA;;AAOA,OARA,EAQA,KARA,CAQA;AACA;AACA,qCADA;AAEA;AACA,gBADA;AAEA,gBAFA,EAFA;;AAMA,OAfA;AAgBA,KA3OA,EAnDA,E;;;;;;;;;;;;;ACrKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACuL;AACvL,gBAAgB,2LAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAA2sB,CAAgB,0rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkC/tB,6D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA,O,eAKA,EACA,iBADA,EAEA;AACA,WACA,UACA,aADA,EAEA,cAFA,CAEA;AAFA,KADA,EAKA,UACA,aADA,EAEA,cAFA,CAEA;AAFA,KALA,EAHA,EAaA,IAbA,kBAaA,CACA,SACA,iBADA,EACA;AACA,kBAFA,EAEA;AACA,sBAHA,EAGA;AACA,wBAJA,EAIA;AACA,oBALA,EAKA;AACA,mBANA,EAMA;AACA,qBACA,MADA,EACA;AACA,mBAFA,EAEA;AACA,gBAHA,CAGA;AAHA,OAPA,EAYA,WAZA,EAYA;AACA,iBAbA,EAaA;AACA,mBAdA,CAcA;AAdA,MAgBA,CA9BA,EA+BA,OA/BA,qBA+BA,CACA,UACA,gCACA,CAlCA,EAmCA,YACA;AACA,yCACA,4CACA,SACA,MACA,CAFA,MAEA,CACA,iBACA,CACA;AACA,sBADA,CACA;AADA;AAGA,KAZA;AAaA,aAbA,uBAaA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,sBAFA;;AAIA,KAtBA,EAnCA;;AA2DA;AACA;AACA,UAFA,oBAEA;;;;;;;;;;;;;;;;;AAiBA,KAnBA;;AAqBA;AACA,iBAtBA,2BAsBA;AACA;AACA;AACA,UADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,iDADA;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,2BAFA,CAEA;AACA;AACA,OAzBA;AA0BA,WA1BA,CA0BA;AACA;AACA;AACA,OA7BA;AA8BA,KAtDA;AAuDA;AACA,eAxDA,yBAwDA;AACA,6EADA,CACA;AACA;AACA,6BADA,CACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,uBAFA;AAGA,0BAHA;AAIA,yBAJA;AAKA,6CALA;;AAOA,4BAVA,CAUA;AACA;AACA,OAdA,MAcA;AACA;AACA;AACA,KA3EA;;AA6EA;AACA,eA9EA,yBA8EA;AACA;AACA;AACA;AACA,2BADA;AAEA;AACA,cADA,CACA,eADA;AAEA,yBAFA;AAGA,uBAHA,CAGA,MAHA,CAFA;AAMA,OARA,MAQA;AACA,8BADA,CACA;AACA,0CAFA,CAEA;AACA;AACA,KA3FA;AA4FA;AACA,aA7FA,uBA6FA;AACA,mCADA,CACA;AACA,wBAFA,CAEA;;AAEA;AACA;AACA,0BAFA,CAEA;AACA,OAHA,MAGA;AACA;AACA,0BAFA,CAEA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,KA7GA;AA8GA;AACA,gBA/GA,0BA+GA;AACA,6CADA,CACA;AACA;AACA,qBADA;;AAGA;AACA,wBADA;AAEA,aAFA;AAGA,6BAHA;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CADA,CACA;AACA;AACA;AACA;AACA,2CADA,CACA;AACA,oBATA;;AAWA,SAdA,MAcA;AACA;AACA;AACA;AACA;AACA;AACA,OArBA;AAsBA;AACA,KAjJA;;AAmJA;AACA,cApJA,sBAoJA,IApJA,EAoJA;AACA,6CADA,CACA;AACA;AACA,UADA,EACA,EADA;AAEA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OARA;;AAUA;AACA;AACA;AACA;AACA,OAdA;;AAgBA,KAtKA;AAuKA;AACA,kBAxKA,0BAwKA,EAxKA,EAwKA,EAxKA,EAwKA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,4BAFA;AAGA;AACA;AACA,yBADA;AAEA,mBAFA;AAGA,yBAHA;AAIA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA/LA,EA3DA,E;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAA81C,CAAgB,yvCAAG,EAAC,C;;;;;;;;;;;ACAl3C;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAo3C,CAAgB,ovCAAG,EAAC,C;;;;;;;;;;;ACAx4C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/users/user_info/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/users/user_info/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=6115a516&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6115a516&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6115a516\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/users/user_info/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=6115a516&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<form @submit=\"formSubmit\">\n\t\t\t<view class='personal-data' :style=\"colorStyle\">\n\t\t\t\t<!-- <view class=\"wrapper\">\n\t\t\t\t\t<view class=\"title\">管理我的账号</view>\n\t\t\t\t\t<view class=\"wrapList\">\n\t\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\" :class=\"item.uid === userInfo.uid ? 'on' : ''\" v-for=\"(item,index) in switchUserInfo\"\n\t\t\t\t\t\t :key=\"index\" @click='switchAccounts(index)'>\n\t\t\t\t\t\t\t<view class=\"picTxt acea-row row-between-wrapper\">\n\t\t\t\t\t\t\t\t<view class=\"pictrue\" @click.stop='uploadpic' v-if='item.uid === userInfo.uid'>\n\t\t\t\t\t\t\t\t\t<image :src='item.avatar'></image>\n\t\t\t\t\t\t\t\t\t<image src='../../../static/images/alter.png' class=\"alter\"></image>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"pictrue\" v-else>\n\t\t\t\t\t\t\t\t\t<image :src='item.avatar'></image>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"text\">\n\t\t\t\t\t\t\t\t\t<view class=\"name line1\">{{ item.nickname }}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"phone\" v-if=\"item.phone && item.user_type !='h5'\">绑定手机号：{{ item.phone }}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"phone\" v-else-if=\"item.phone && item.user_type =='h5'\">账号：{{ item.phone }}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"phone\" v-else>暂未绑定手机号</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"currentBnt acea-row row-center-wrapper font-color\" v-if='item.uid === userInfo.uid'>\n\t\t\t\t\t\t\t\t当前账号\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"bnt font-color acea-row row-center-wrapper\" v-else>\n\t\t\t\t\t\t\t\t使用账号\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view> -->\n\t\t\t\t<view class='list'>\n\t\t\t\t\t<view class='item acea-row row-between-wrapper'>\n\t\t\t\t\t\t<view>头像</view>\n\t\t\t\t\t\t<view class=\"avatar-box\" @click.stop='uploadpic'>\n\t\t\t\t\t\t\t<image :src=\"userInfo.avatar\"></image>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class='item acea-row row-between-wrapper'>\n\t\t\t\t\t\t<view>昵称</view>\n\t\t\t\t\t\t<view class='input'><input type='text' name='nickname' :value='userInfo.nickname'></input>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class='item acea-row row-between-wrapper'>\n\t\t\t\t\t\t<view>手机号码</view>\n\t\t\t\t\t\t<navigator url=\"/pages/users/user_phone/index\" hover-class=\"none\" class=\"input\"\n\t\t\t\t\t\t\tv-if=\"!userInfo.phone\">\n\t\t\t\t\t\t\t点击绑定手机号<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t\t<view class='input acea-row row-between-wrapper' v-else>\n\t\t\t\t\t\t\t<input type='text' disabled='true' name='phone' :value='userInfo.phone' class='id'></input>\n\t\t\t\t\t\t\t<text class='iconfont icon-suozi'></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class='item acea-row row-between-wrapper'>\n\t\t\t\t\t\t<view>ID号</view>\n\t\t\t\t\t\t<view class='input acea-row row-between-wrapper'>\n\t\t\t\t\t\t\t<input type='text' :value='userInfo.uid' disabled='true' class='id'></input>\n\t\t\t\t\t\t\t<text class='iconfont icon-suozi'></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- #ifdef MP -->\n\t\t\t\t\t<view class='item acea-row row-between-wrapper'>\n\t\t\t\t\t\t<view>权限设置</view>\n\t\t\t\t\t\t<view class=\"input\" @click=\"Setting\">\n\t\t\t\t\t\t\t点击管理<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t<!-- #ifdef H5 -->\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\" v-if=\"userInfo.phone && !this.$wechat.isWeixin()\">\n\t\t\t\t\t\t<view>密码</view>\n\t\t\t\t\t\t<navigator url=\"/pages/users/user_pwd_edit/index\" hover-class=\"none\" class=\"input\">\n\t\t\t\t\t\t\t点击修改密码<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\" v-if=\"userInfo.phone\">\n\t\t\t\t\t\t<view>更换手机号码</view>\n\t\t\t\t\t\t<navigator url=\"/pages/users/user_phone/index?type=1\" hover-class=\"none\" class=\"input\">\n\t\t\t\t\t\t\t点击更换手机号码<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- #ifdef APP-PLUS -->\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\" v-if=\"userInfo.phone\">\n\t\t\t\t\t\t<view>密码</view>\n\t\t\t\t\t\t<navigator url=\"/pages/users/user_pwd_edit/index\" hover-class=\"none\" class=\"input\">\n\t\t\t\t\t\t\t点击修改密码<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\" @click=\"initData\">\n\t\t\t\t\t\t<view>缓存大小</view>\n\t\t\t\t\t\t<view class=\"input\">\n\t\t\t\t\t\t\t{{fileSizeString}}<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\" @click=\"updateApp\">\n\t\t\t\t\t\t<view>当前版本</view>\n\t\t\t\t\t\t<view class=\"input\">\n\t\t\t\t\t\t\t{{version}}<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- #endif -->\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\">\n\t\t\t\t\t\t<view>地址管理</view>\n\t\t\t\t\t\t<navigator url=\"/pages/users/user_address_list/index\" hover-class=\"none\" class=\"input\">\n\t\t\t\t\t\t\t点击前往<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\" v-if=\"userInfo.invioce_func\">\n\t\t\t\t\t\t<view>发票管理</view>\n\t\t\t\t\t\t<navigator url=\"/pages/users/user_invoice_list/index\" hover-class=\"none\" class=\"input\">\n\t\t\t\t\t\t\t点击前往<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"item acea-row row-between-wrapper\">\n\t\t\t\t\t\t<view>账号注销</view>\n\t\t\t\t\t\t<navigator url=\"/pages/users/user_cancellation/index\" hover-class=\"none\" class=\"input\">\n\t\t\t\t\t\t\t注销后无法恢复<text class=\"iconfont icon-xiangyou\"></text>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\n\t\t\t\t<button class='modifyBnt bg-color' formType=\"submit\">保存修改</button>\n\t\t\t\t<!-- #ifdef H5 || APP-PLUS || MP -->\n\t\t\t\t<view class=\"logOut cartcolor acea-row row-center-wrapper\" @click=\"outLogin\">退出登录</view>\n\t\t\t\t<!-- #endif -->\n\t\t\t\t<!-- #ifdef APP-PLUS -->\n\t\t\t\t<app-update ref=\"appUpdate\" :force=\"true\" :tabbar=\"false\" :getVer='true' @isNew=\"isNew\"></app-update>\n\t\t\t\t<!-- #endif -->\n\t\t\t</view>\n\t\t</form>\n\t\t<!-- #ifdef MP -->\n\t\t<!-- <authorize @onLoadFun=\"onLoadFun\" :isAuto=\"isAuto\" :isShowAuth=\"isShowAuth\" @authColse=\"authColse\"></authorize> -->\n\t\t<!-- #endif -->\n\t\t<canvas canvas-id=\"canvas\" v-if=\"canvasStatus\"\n\t\t\t:style=\"{width: canvasWidth + 'px', height: canvasHeight + 'px',position: 'absolute',left:'-100000px',top:'-100000px'}\"></canvas>\n\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\tgetUserInfo,\n\t\tuserEdit,\n\t\tgetLogout\n\t} from '@/api/user.js';\n\timport {\n\t\tswitchH5Login\n\t} from '@/api/api.js';\n\timport {\n\t\ttoLogin\n\t} from '@/libs/login.js';\n\timport {\n\t\tmapGetters\n\t} from \"vuex\";\n\timport dayjs from \"@/plugin/dayjs/dayjs.min.js\";\n\t// #ifdef MP\n\timport authorize from '@/components/Authorize';\n\t// #endif\n\timport colors from '@/mixins/color.js';\n\timport appUpdate from \"@/components/update/app-update.vue\";\n\texport default {\n\t\tcomponents: {\n\t\t\t// #ifdef APP-PLUS\n\t\t\tappUpdate\n\t\t\t// #endif\n\t\t\t// #ifdef MP\n\t\t\tauthorize\n\t\t\t// #endif\n\t\t},\n\t\tmixins: [colors],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserInfo: {},\n\t\t\t\tloginType: 'h5', //app.globalData.loginType\n\t\t\t\tuserIndex: 0,\n\t\t\t\tswitchUserInfo: [],\n\t\t\t\tisAuto: false, //没有授权的不会自动授权\n\t\t\t\tisShowAuth: false, //是否隐藏授权\n\t\t\t\tcanvasWidth: \"\",\n\t\t\t\tcanvasHeight: \"\",\n\t\t\t\tcanvasStatus: false,\n\t\t\t\tfileSizeString: '',\n\t\t\t\tversion: ''\n\t\t\t};\n\t\t},\n\t\tcomputed: mapGetters(['isLogin']),\n\t\twatch: {\n\t\t\tisLogin: {\n\t\t\t\thandler: function(newV, oldV) {\n\t\t\t\t\tif (newV) {\n\t\t\t\t\t\tthis.getUserInfo();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdeep: true\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\tif (this.isLogin) {\n\t\t\t\tthis.getUserInfo();\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tthis.formatSize()\n\t\t\t\t// 获取版本号\n\t\t\t\tplus.runtime.getProperty(plus.runtime.appid, (inf) => {\n\t\t\t\t\tconsole.log(inf.version)\n\t\t\t\t\tthis.version = inf.version;\n\t\t\t\t});\n\t\t\t\t// #endif \n\t\t\t} else {\n\t\t\t\ttoLogin();\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tisNew() {\n\t\t\t\tthis.$util.Tips({\n\t\t\t\t\ttitle: '当前为最新版本'\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tupdateApp() {\n\t\t\t\tthis.$refs.appUpdate.update(); //调用子组件 检查更新\n\t\t\t},\n\t\t\tformatSize() {\n\t\t\t\tlet that = this;\n\t\t\t\tplus.cache.calculate(function(size) {\n\t\t\t\t\tlet sizeCache = parseInt(size);\n\t\t\t\t\tif (sizeCache == 0) {\n\t\t\t\t\t\tthat.fileSizeString = \"0B\";\n\t\t\t\t\t} else if (sizeCache < 1024) {\n\t\t\t\t\t\tthat.fileSizeString = sizeCache + \"B\";\n\t\t\t\t\t} else if (sizeCache < 1048576) {\n\t\t\t\t\t\tthat.fileSizeString = (sizeCache / 1024).toFixed(2) + \"KB\";\n\t\t\t\t\t} else if (sizeCache < 1073741824) {\n\t\t\t\t\t\tthat.fileSizeString = (sizeCache / 1048576).toFixed(2) + \"MB\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.fileSizeString = (sizeCache / 1073741824).toFixed(2) + \"GB\";\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tinitData() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '清楚缓存',\n\t\t\t\t\tcontent: '确定清楚本地缓存数据吗?',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.clearCache()\n\t\t\t\t\t\t\tthis.formatSize()\n\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\t\ttitle: '已取消'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tclearCache() {\n\t\t\t\tlet that = this;\n\t\t\t\tlet os = plus.os.name;\n\t\t\t\tif (os == 'Android') {\n\t\t\t\t\tlet main = plus.android.runtimeMainActivity();\n\t\t\t\t\tlet sdRoot = main.getCacheDir();\n\t\t\t\t\tlet files = plus.android.invoke(sdRoot, \"listFiles\");\n\t\t\t\t\tlet len = files.length;\n\t\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\t\tlet filePath = '' + files[i]; // 没有找到合适的方法获取路径，这样写可以转成文件路径  \n\t\t\t\t\t\tplus.io.resolveLocalFileSystemURL(filePath, function(entry) {\n\t\t\t\t\t\t\tif (entry.isDirectory) {\n\t\t\t\t\t\t\t\tentry.removeRecursively(function(entry) { //递归删除其下的所有文件及子目录  \n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '缓存清理完成',\n\t\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tthat.formatSize(); // 重新计算缓存  \n\t\t\t\t\t\t\t\t}, function(e) {\n\t\t\t\t\t\t\t\t\tconsole.log(e.message)\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tentry.remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function(e) {\n\t\t\t\t\t\t\tconsole.log('文件路径读取失败')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else { // ios暂时未找到清理缓存的方法，以下是官方提供的方法，但是无效，会报错  \n\t\t\t\t\tplus.cache.clear(function() {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '缓存清理完成',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.formatSize();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * 授权回调\n\t\t\t */\n\t\t\tonLoadFun: function() {\n\t\t\t\tthis.getUserInfo();\n\t\t\t},\n\t\t\t// 授权关闭\n\t\t\tauthColse: function(e) {\n\t\t\t\tthis.isShowAuth = e\n\t\t\t},\n\t\t\t/**\n\t\t\t * 小程序设置\n\t\t\t */\n\t\t\tSetting: function() {\n\t\t\t\tuni.openSetting({\n\t\t\t\t\tsuccess: function(res) {}\n\t\t\t\t});\n\t\t\t},\n\t\t\tswitchAccounts: function(index) {\n\t\t\t\tlet userInfo = this.switchUserInfo[index],\n\t\t\t\t\tthat = this;\n\t\t\t\tthat.userIndex = index;\n\t\t\t\tif (that.switchUserInfo.length <= 1) return true;\n\t\t\t\tif (userInfo === undefined) return that.$util.Tips({\n\t\t\t\t\ttitle: '切换的账号不存在'\n\t\t\t\t});\n\t\t\t\tif (userInfo.user_type === 'h5') {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '正在切换中'\n\t\t\t\t\t});\n\t\t\t\t\tswitchH5Login().then(res => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tthat.$store.commit(\"LOGIN\", {\n\t\t\t\t\t\t\t'token': res.data.token,\n\t\t\t\t\t\t\t'time': this.$Cache.strTotime(res.data.expires_time) - this.$Cache.time()\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.getUserInfo();\n\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\t\ttitle: err\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthat.$store.commit(\"LOGOUT\");\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '正在切换中'\n\t\t\t\t\t});\n\t\t\t\t\ttoLogin();\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * 退出登录\n\t\t\t * \n\t\t\t */\n\t\t\toutLogin: function() {\n\t\t\t\tlet that = this;\n\t\t\t\tif (that.loginType == 'h5') {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\tcontent: '确认退出登录?',\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tgetLogout()\n\t\t\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\t\t\t// uni.clearStorage()\n\t\t\t\t\t\t\t\t\t\tthat.$store.commit(\"LOGOUT\");\n\t\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(err => {});\n\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t/**\n\t\t\t * 获取用户详情\n\t\t\t */\n\t\t\tgetUserInfo: function() {\n\t\t\t\tlet that = this;\n\t\t\t\tgetUserInfo().then(res => {\n\t\t\t\t\tthat.$set(that, 'userInfo', res.data);\n\t\t\t\t\tlet switchUserInfo = res.data.switchUserInfo || [];\n\t\t\t\t\tfor (let i = 0; i < switchUserInfo.length; i++) {\n\t\t\t\t\t\tif (switchUserInfo[i].uid == that.userInfo.uid) that.userIndex = i;\n\t\t\t\t\t\t// 切割h5用户；user_type状态：h5、routine（小程序）、wechat（公众号）；注：只有h5未注册手机号时，h5才可和小程序或是公众号数据想通；\n\t\t\t\t\t\t//#ifdef H5\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!that.$wechat.isWeixin() &&\n\t\t\t\t\t\t\tswitchUserInfo[i].user_type != \"h5\" &&\n\t\t\t\t\t\t\tswitchUserInfo[i].phone === \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tswitchUserInfo.splice(i, 1);\n\t\t\t\t\t\t//#endif\n\t\t\t\t\t}\n\t\t\t\t\tthat.$set(that, \"switchUserInfo\", switchUserInfo);\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * 上传文件\n\t\t\t * \n\t\t\t */\n\t\t\tuploadpic: function() {\n\t\t\t\tlet that = this;\n\t\t\t\tthis.canvasStatus = true\n\t\t\t\tthat.$util.uploadImageChange('upload/image', (res) => {\n\t\t\t\t\tlet userInfo = that.switchUserInfo[that.userIndex];\n\t\t\t\t\tif (userInfo !== undefined) {\n\t\t\t\t\t\tthat.userInfo.avatar = res.data.url;\n\t\t\t\t\t}\n\t\t\t\t\tthat.switchUserInfo[that.userIndex] = userInfo;\n\t\t\t\t\tthat.$set(that, 'switchUserInfo', that.switchUserInfo);\n\t\t\t\t\tthis.canvasStatus = false\n\t\t\t\t}, (res) => {\n\t\t\t\t\tthis.canvasStatus = false\n\t\t\t\t}, (res) => {\n\t\t\t\t\tthis.canvasWidth = res.w\n\t\t\t\t\tthis.canvasHeight = res.h\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * 提交修改\n\t\t\t */\n\t\t\tformSubmit: function(e) {\n\t\t\t\tlet that = this,\n\t\t\t\t\tvalue = e.detail.value,\n\t\t\t\t\tuserInfo = that.switchUserInfo[that.userIndex];\n\t\t\t\tif (!value.nickname) return that.$util.Tips({\n\t\t\t\t\ttitle: '用户姓名不能为空'\n\t\t\t\t});\n\t\t\t\tvalue.avatar = this.userInfo.avatar;\n\t\t\t\tuserEdit(value).then(res => {\n\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\ttitle: res.msg,\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t}, {\n\t\t\t\t\t\ttab: 3,\n\t\t\t\t\t\turl: 1\n\t\t\t\t\t});\n\t\t\t\t}).catch(msg => {\n\t\t\t\t\treturn that.$util.Tips({\n\t\t\t\t\t\ttitle: msg || '保存失败，您并没有修改'\n\t\t\t\t\t}, {\n\t\t\t\t\t\ttab: 3,\n\t\t\t\t\t\turl: 1\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t.cartcolor {\n\t\tcolor: var(--view-theme);\n\t\tborder: 1px solid var(--view-theme);\n\t}\n\n\t.personal-data .wrapper {\n\t\tmargin: 10rpx 0;\n\t\tbackground-color: #fff;\n\t\tpadding: 36rpx 30rpx 13rpx 30rpx;\n\t}\n\n\t.personal-data .wrapper .title {\n\t\tmargin-bottom: 30rpx;\n\t\tfont-size: 32rpx;\n\t\tcolor: #282828;\n\t}\n\n\t.personal-data .wrapper .wrapList .item {\n\t\twidth: 690rpx;\n\t\theight: 160rpx;\n\t\tbackground-color: #f8f8f8;\n\t\tborder-radius: 20rpx;\n\t\tmargin-bottom: 22rpx;\n\t\tpadding: 0 30rpx;\n\t\tposition: relative;\n\t\tborder: 2rpx solid #f8f8f8;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.personal-data .wrapper .wrapList .item.on {\n\t\tborder-color: #e93323;\n\t\tborder-radius: 20rpx;\n\t\tbackground-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArIAAACgCAYAAADw+I85AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0QzNkY3NzlCNzJCMTFFOTgyNEU4QzhGQTRFRUY2REQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0QzNkY3N0FCNzJCMTFFOTgyNEU4QzhGQTRFRUY2REQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRDM2Rjc3N0I3MkIxMUU5ODI0RThDOEZBNEVFRjZERCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRDM2Rjc3OEI3MkIxMUU5ODI0RThDOEZBNEVFRjZERCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pn3rJMAAAArUSURBVHja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\");\n\t\tbackground-size: 100% 100%;\n\t\tbackground-color: #fff9f9;\n\t\tbackground-repeat: no-repeat;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .picTxt {\n\t\twidth: 445rpx;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .picTxt .pictrue {\n\t\twidth: 96rpx;\n\t\theight: 96rpx;\n\t\tposition: relative;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .picTxt .pictrue image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50%;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .picTxt .pictrue .alter {\n\t\twidth: 30rpx;\n\t\theight: 30rpx;\n\t\tborder-radius: 50%;\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tright: 0;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .picTxt .text {\n\t\twidth: 325rpx;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .picTxt .text .name {\n\t\twidth: 100%;\n\t\tfont-size: 30rpx;\n\t\tcolor: #282828;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .picTxt .text .phone {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-top: 10rpx;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .bnt {\n\t\tfont-size: 24rpx;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 27rpx;\n\t\twidth: 140rpx;\n\t\theight: 54rpx;\n\t\tborder: 2rpx solid #e93323;\n\t}\n\n\t.personal-data .wrapper .wrapList .item .currentBnt {\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 0;\n\t\tfont-size: 26rpx;\n\t\tbackground-color: rgba(233, 51, 35, 0.1);\n\t\twidth: 140rpx;\n\t\theight: 48rpx;\n\t\tborder-radius: 0 20rpx 0 20rpx;\n\t}\n\n\t.personal-data .list {\n\t\tmargin-top: 15rpx;\n\t\tbackground-color: #fff;\n\t}\n\n\t.personal-data .list .item {\n\t\tpadding: 30rpx 30rpx 30rpx 0;\n\t\tborder-bottom: 1rpx solid #f2f2f2;\n\t\tmargin-left: 30rpx;\n\t\tfont-size: 32rpx;\n\t\tcolor: #282828;\n\t}\n\n\t.personal-data .list .item .phone {\n\t\twidth: 160rpx;\n\t\theight: 56rpx;\n\t\tfont-size: 24rpx;\n\t\tcolor: #fff;\n\t\tline-height: 56rpx;\n\t\tborder-radius: 32rpx\n\t}\n\n\t.personal-data .list .item .pictrue {\n\t\twidth: 88rpx;\n\t\theight: 88rpx;\n\t}\n\n\t.personal-data .list .item .pictrue image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50%;\n\t}\n\n\t.personal-data .list .item .input {\n\t\twidth: 415rpx;\n\t\ttext-align: right;\n\t\tcolor: #868686;\n\t}\n\n\t.personal-data .list .item .input .id {\n\t\twidth: 365rpx;\n\t}\n\n\t.personal-data .list .item .input .iconfont {\n\t\tfont-size: 35rpx;\n\t}\n\n\t.personal-data .modifyBnt {\n\t\tfont-size: 32rpx;\n\t\tcolor: #fff;\n\t\twidth: 690rpx;\n\t\theight: 90rpx;\n\t\tborder-radius: 50rpx;\n\t\ttext-align: center;\n\t\tline-height: 90rpx;\n\t\tmargin: 76rpx auto 0 auto;\n\t}\n\n\t.personal-data .logOut {\n\t\tfont-size: 32rpx;\n\t\ttext-align: center;\n\t\twidth: 690rpx;\n\t\theight: 90rpx;\n\t\tborder-radius: 45rpx;\n\t\tmargin: 30rpx auto 0 auto;\n\t}\n\n\t.avatar-box {\n\t\twidth: 96rpx;\n\t\theight: 96rpx;\n\n\t\timage {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tborder-radius: 50%;\n\t\t}\n\t}\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./app-update.vue?vue&type=template&id=1af47460&scoped=true&\"\nvar renderjs\nimport script from \"./app-update.vue?vue&type=script&lang=js&\"\nexport * from \"./app-update.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-update.vue?vue&type=style&index=0&id=1af47460&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1af47460\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/update/app-update.vue\"\nexport default component.exports","export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=template&id=1af47460&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.popup_show && !(_vm.downstatus < 1)\n      ? (_vm.downSize / 1024 / 1024).toFixed(2)\n      : null\n  var g1 =\n    _vm.popup_show && !(_vm.downstatus < 1)\n      ? (_vm.fileSize / 1024 / 1024).toFixed(2)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"wrap\" v-if=\"popup_show\">\n\t\t<view class=\"popup-bg\" :style=\"getHeight\">\n\t\t\t<view class=\"popup-content\" :class=\"{ 'popup-content-show': popup_show }\">\n\t\t\t\t<view class=\"update-wrap\">\n\t\t\t\t\t<image src=\"./images/img.png\" class=\"top-img\"></image>\n\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t<text class=\"title\">发现新版本{{ update_info.version }}</text>\n\t\t\t\t\t\t<!-- 升级描述 -->\n\t\t\t\t\t\t<view class=\"title-sub\" v-html=\"update_info.info\"></view>\n\t\t\t\t\t\t<!-- 升级按钮 -->\n\t\t\t\t\t\t<button class=\"btn\" v-if=\"downstatus < 1\" @click=\"nowUpdate()\">\n\t\t\t\t\t\t\t立即升级\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<!-- 下载进度 -->\n\t\t\t\t\t\t<view class=\"sche-wrap\" v-else>\n\t\t\t\t\t\t\t<!-- 更新包下载中 -->\n\t\t\t\t\t\t\t<view class=\"sche-bg\">\n\t\t\t\t\t\t\t\t<view class=\"sche-bg-jindu\" :style=\"lengthWidth\"></view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"down-text\">下载进度:{{ (downSize / 1024 / 1024).toFixed(2) }}M/{{\n                  (fileSize / 1024 / 1024).toFixed(2)\n                }}M</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<image src=\"./images/close.png\" class=\"close-ioc\" @click=\"closeUpdate()\"></image>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\tlet vm;\n\timport {\n\t\tgetUpdateInfo\n\t} from '@/api/public.js'\n\n\texport default {\n\t\tname: \"appUpdate\",\n\t\t//@是否强制更新\n\t\tprops: {\n\t\t\ttabbar: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false, //是否有原生tabbar组件\n\t\t\t},\n\t\t\tgetVer: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false, //是否有原生tabbar组件\n\t\t\t},\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tpopup_show: false, //弹窗是否显示\n\t\t\t\tplatform: \"\", //ios or android\n\t\t\t\tversion: \"1.0.0\", //当前软件版本\n\t\t\t\tneed_update: false, // 是否更新\n\t\t\t\tdowning: false, //是否下载中\n\t\t\t\tdownstatus: 0, //0未下载  1已开始 2已连接到资源  3已接收到数据  4下载完成\n\t\t\t\tupdate_info: {\n\t\t\t\t\tos: \"\", //设备系统\n\t\t\t\t\tversion: \"\", //最新版本\n\t\t\t\t\tinfo: \"\", //升级说明\n\t\t\t\t},\n\t\t\t\tfileSize: 0, //文件大小\n\t\t\t\tdownSize: 0, //已下载大小\n\t\t\t\tviewObj: null, //原生遮罩view\n\t\t\t};\n\t\t},\n\t\tcreated() {\n\t\t\tvm = this;\n\t\t\tif (!this.getVer) this.update()\n\t\t},\n\t\tcomputed: {\n\t\t\t// 下载进度计算\n\t\t\tlengthWidth: function() {\n\t\t\t\tlet w = (this.downSize / this.fileSize) * 100;\n\t\t\t\tif (!w) {\n\t\t\t\t\tw = 0;\n\t\t\t\t} else {\n\t\t\t\t\tw = w.toFixed(2);\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\twidth: w + \"%\", //return 宽度半分比\n\t\t\t\t};\n\t\t\t},\n\t\t\tgetHeight() {\n\t\t\t\tlet bottom = 0;\n\t\t\t\tif (this.tabbar) {\n\t\t\t\t\tbottom = 50;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tbottom: bottom + \"px\",\n\t\t\t\t\theight: \"auto\",\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\tmethods: {\n\t\t\t// 检查更新\n\t\t\tupdate() {\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t// 获取手机系统信息\n\t\t\t\tuni.getSystemInfo({\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tvm.platform = res.platform; //ios  or android\n\t\t\t\t\t\tconsole.log(\"手机系统信息\", vm.platform);\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t// 获取版本号\n\t\t\t\tplus.runtime.getProperty(plus.runtime.appid, function(inf) {\n\t\t\t\t\tvm.version = inf.version;\n\t\t\t\t});\n\t\t\t\tconsole.log(\"当前版本\", vm.version);\n\t\t\t\tthis.getUpdateInfo(); //获取更新信息\n\t\t\t\t// #endif\n\t\t\t},\n\n\t\t\t// 获取线上版本信息\n\t\t\tgetUpdateInfo() {\n\t\t\t\t//向后台发起请求，获取最新版本号\n\t\t\t\tgetUpdateInfo(this.platform === \"ios\" ? 2 : 1)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif(Array.isArray(res.data)){\n\t\t\t\t\t\t return\tthis.$emit('isNew')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst tagDate = uni.getStorageSync('app_update_time') || '',\n\t\t\t\t\t\t\tnowDate = new Date().toLocaleDateString();\n\t\t\t\t\t\tif (tagDate !== nowDate && !this.getVer) {\n\t\t\t\t\t\t\tuni.setStorageSync('app_update_time', new Date().toLocaleDateString());\n\t\t\t\t\t\t} else if ((tagDate !== nowDate) && this.getVer) {\n\t\t\t\t\t\t\tif (!res.data.is_force) return\n\t\t\t\t\t\t} else if (tagDate == nowDate && !this.getVer && !res.data.is_force) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// 这里的返回的数据跟后台约定\n\t\t\t\t\t\tlet data = res.data;\n\t\t\t\t\t\t// 循环获取当前设备对应的更新数据\n\t\t\t\t\t\tvm.update_info = data;\n\t\t\t\t\t\tif (!vm.update_info.platform) {\n\t\t\t\t\t\t\t// 后台未配置当前系统的升级数据\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('111111111111111')\n\t\t\t\t\t\t\tvm.checkUpdate(); ///检查是否更新\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tvm.popup_show = false\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\t// 检查是否更新\n\t\t\tcheckUpdate() {\n\t\t\t\tvm.need_update = vm.compareVersion(vm.version, vm.update_info.version); // 检查是否需要升级\n\t\t\t\tif (vm.need_update) {\n\t\t\t\t\tvm.popup_show = true; //线上版本号大于当前安装的版本号  显示升级框\n\t\t\t\t\tif (vm.tabbar) {\n\t\t\t\t\t\t//页面是否有原生tabbar组件\n\t\t\t\t\t\t// 创建原生view用来遮罩tabbar的点击事件 (如果是没有用原生的tabbar这一步可以取消)\n\t\t\t\t\t\tvm.viewObj = new plus.nativeObj.View(\"viewObj\", {\n\t\t\t\t\t\t\tbottom: \"0px\",\n\t\t\t\t\t\t\tleft: \"0px\",\n\t\t\t\t\t\t\theight: \"50px\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tbackgroundColor: \"rgba(0,0,0,.6)\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvm.viewObj.show(); //显示原生遮罩\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.$emit('isNew')\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 取消更新\n\t\t\tcloseUpdate() {\n\t\t\t\tif (vm.update_info.is_force) {\n\t\t\t\t\t// 强制更新，取消退出app\n\t\t\t\t\tthis.platform == \"android\" ?\n\t\t\t\t\t\tplus.runtime.quit() :\n\t\t\t\t\t\tplus.ios\n\t\t\t\t\t\t.import(\"UIApplication\")\n\t\t\t\t\t\t.sharedApplication()\n\t\t\t\t\t\t.performSelector(\"exit\");\n\t\t\t\t} else {\n\t\t\t\t\tvm.popup_show = false; //关闭升级弹窗\n\t\t\t\t\tif (vm.viewObj) vm.viewObj.hide(); //隐藏原生遮罩\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 立即更新\n\t\t\tnowUpdate() {\n\t\t\t\tif (vm.downing) return false; //如果正在下载就停止操作\n\t\t\t\tvm.downing = true; //状态改变 正在下载中\n\n\t\t\t\tif (/\\.apk$/.test(vm.update_info.url)) {\n\t\t\t\t\t// 如果是apk地址\n\t\t\t\t\tvm.download_wgt(); // 安装包/升级包更新\n\t\t\t\t} else if (/\\.wgt$/.test(vm.update_info.url)) {\n\t\t\t\t\t// 如果是更新包\n\t\t\t\t\tvm.download_wgt(); // 安装包/升级包更新\n\t\t\t\t} else {\n\t\t\t\t\tplus.runtime.openURL(vm.update_info.url, function() {\n\t\t\t\t\t\t//调用外部浏览器打开更新地址\n\t\t\t\t\t\tplus.nativeUI.toast(\"打开错误\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 下载升级资源包\n\t\t\tdownload_wgt() {\n\t\t\t\tplus.nativeUI.showWaiting(\"下载更新文件...\"); //下载更新文件...\n\t\t\t\tlet options = {\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t};\n\t\t\t\tlet dtask = plus.downloader.createDownload(\n\t\t\t\t\tvm.update_info.url,\n\t\t\t\t\toptions,\n\t\t\t\t\tfunction(d, status) {}\n\t\t\t\t);\n\n\t\t\t\tdtask.addEventListener(\"statechanged\", function(task, status) {\n\t\t\t\t\tif (status === null) {} else if (status == 200) {\n\t\t\t\t\t\t//在这里打印会不停的执行，请注意，正式上线切记不要在这里打印东西///////////////////////////////////////////////////\n\t\t\t\t\t\tvm.downstatus = task.state;\n\t\t\t\t\t\tswitch (task.state) {\n\t\t\t\t\t\t\tcase 3: // 已接收到数据\n\t\t\t\t\t\t\t\tvm.downSize = task.downloadedSize;\n\t\t\t\t\t\t\t\tif (task.totalSize) {\n\t\t\t\t\t\t\t\t\tvm.fileSize = task.totalSize; //服务器须返回正确的content-length才会有长度\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tvm.installWgt(task.filename); // 安装wgt包\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tplus.nativeUI.closeWaiting();\n\t\t\t\t\t\tplus.nativeUI.toast(\"下载出错\");\n\t\t\t\t\t\tvm.downing = false;\n\t\t\t\t\t\tvm.downstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tdtask.start();\n\t\t\t},\n\n\t\t\t// 安装文件\n\t\t\tinstallWgt(path) {\n\t\t\t\tplus.nativeUI.showWaiting(\"安装更新文件...\"); //安装更新文件...\n\t\t\t\tplus.runtime.install(\n\t\t\t\t\tpath, {},\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tplus.nativeUI.closeWaiting();\n\t\t\t\t\t\t// 应用资源下载完成！\n\t\t\t\t\t\tplus.nativeUI.alert(\"应用资源下载完成！\", function() {\n\t\t\t\t\t\t\tplus.runtime.restart();\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\n\t\t\t\t\tfunction(e) {\n\t\t\t\t\t\tplus.nativeUI.closeWaiting();\n\t\t\t\t\t\t// 安装更新文件失败\n\t\t\t\t\t\tplus.nativeUI.alert(\"安装更新文件失败[\" + e.code + \"]：\" + e.message);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t\t// 对比版本号\n\t\t\tcompareVersion(ov, nv) {\n\t\t\t\tif (!ov || !nv || ov == \"\" || nv == \"\") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet b = false,\n\t\t\t\t\tova = ov.split(\".\", 4),\n\t\t\t\t\tnva = nv.split(\".\", 4);\n\t\t\t\tfor (let i = 0; i < ova.length && i < nva.length; i++) {\n\t\t\t\t\tlet so = ova[i],\n\t\t\t\t\t\tno = parseInt(so),\n\t\t\t\t\t\tsn = nva[i],\n\t\t\t\t\t\tnn = parseInt(sn);\n\t\t\t\t\tif (nn > no || sn.length > so.length) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (nn < no) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (nva.length > ova.length && 0 == nv.indexOf(ov)) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n<style lang=\"scss\" scoped>\n\t.popup-bg {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0rpx;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\twidth: 750rpx;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\tz-index: 10000;\n\t}\n\n\t.popup-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.popup-content-show {\n\t\tanimation: mymove 500ms;\n\t\ttransform: scale(1);\n\t}\n\n\t@keyframes mymove {\n\t\t0% {\n\t\t\ttransform: scale(0);\n\t\t\t/*开始为原始大小*/\n\t\t}\n\n\t\t100% {\n\t\t\ttransform: scale(1);\n\t\t}\n\t}\n\n\t.update-wrap {\n\t\twidth: 580rpx;\n\t\tborder-radius: 18rpx;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbackground-color: #ffffff;\n\t\tpadding: 170rpx 30rpx 0;\n\n\t\t.top-img {\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 256rpx;\n\t\t\ttop: -128rpx;\n\t\t}\n\n\t\t.content {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tpadding-bottom: 40rpx;\n\n\t\t\t.title {\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #6526f3;\n\t\t\t}\n\n\t\t\t.title-sub {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666666;\n\t\t\t\tpadding: 30rpx 0;\n\t\t\t}\n\n\t\t\t.btn {\n\t\t\t\twidth: 460rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\theight: 80rpx;\n\t\t\t\tline-height: 80rpx;\n\t\t\t\tborder-radius: 100px;\n\t\t\t\tbackground-color: #6526f3;\n\t\t\t\tmargin-top: 20rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t.close-ioc {\n\t\twidth: 70rpx;\n\t\theight: 70rpx;\n\t\tmargin-top: 30rpx;\n\t}\n\n\t.sche-wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\tpadding: 10rpx 50rpx 0;\n\n\t\t.sche-wrap-text {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\n\t\t.sche-bg {\n\t\t\tposition: relative;\n\t\t\tbackground-color: #cccccc;\n\t\t\theight: 30rpx;\n\t\t\tborder-radius: 100px;\n\t\t\twidth: 480rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t.sche-bg-jindu {\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 0;\n\t\t\t\theight: 30rpx;\n\t\t\t\tmin-width: 40rpx;\n\t\t\t\tborder-radius: 100px;\n\t\t\t\tbackground: url(images/round.png) #5775e7 center right 4rpx no-repeat;\n\t\t\t\tbackground-size: 26rpx 26rpx;\n\t\t\t}\n\t\t}\n\n\t\t.down-text {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #5674e5;\n\t\t\tmargin-top: 16rpx;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=style&index=0&id=1af47460&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./app-update.vue?vue&type=style&index=0&id=1af47460&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1670206234050\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6115a516&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=6115a516&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1670206233400\n      var cssReload = require(\"C:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}